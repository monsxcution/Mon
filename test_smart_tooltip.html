<!DOCTYPE html>
<html>
<head>
    <title>Test Smart Tooltip Positioning</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #1a1a1a; 
            color: #fff; 
            min-height: 100vh;
        }
        
        .container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 100px;
        }
        
        .card {
            background: #2d2d2d;
            border-radius: 10px;
            padding: 20px;
            width: 200px;
            position: relative;
            cursor: pointer;
            border: 2px solid #444;
        }
        
        .card:hover {
            border-color: #07c160;
        }
        
        .notice-line {
            margin-top: 6px;
            font-weight: 600;
            color: #ff8c00;
            font-size: 0.72rem;
            text-align: center;
        }
        
        .notice-tooltip {
            position: absolute;
            top: -8px;
            right: 8px;
            transform: translateY(-100%);
            background: #111;
            color: #fff;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 8px 10px;
            width: 220px;
            z-index: 5;
            display: none;
            pointer-events: none;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.35);
        }
        
        .notice-tooltip.tooltip-left {
            right: auto;
            left: 8px;
        }
        
        .notice-tooltip.tooltip-right {
            right: 8px;
            left: auto;
        }
        
        .notice-tooltip.show {
            display: block;
        }
        
        .notice-tooltip-title {
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .notice-tooltip-note {
            font-size: 12px;
            line-height: 1.4;
        }
        
        h3 { color: #07c160; margin-bottom: 20px; }
        .instruction { color: #888; margin-bottom: 30px; }
    </style>
</head>
<body>
    <h3>üéØ Test Smart Tooltip Positioning</h3>
    <p class="instruction">
        Hover qua m·ªói card ƒë·ªÉ xem tooltip xu·∫•t hi·ªán ·ªü v·ªã tr√≠ th√¥ng minh:<br>
        - Card b√™n tr√°i ‚Üí Tooltip hi·ªán b√™n ph·∫£i<br>
        - Card gi·ªØa ‚Üí Tooltip hi·ªán b√™n ph·∫£i (default)<br>
        - Card b√™n ph·∫£i ‚Üí Tooltip hi·ªán b√™n tr√°i
    </p>
    
    <div class="container">
        <!-- Card b√™n tr√°i -->
        <div class="card" id="left-card">
            <strong>Card 1 (Left)</strong>
            <div class="notice-line">Reg: 7d</div>
            <p style="font-size: 12px; color: #888; margin-top: 10px;">
                Card n√†y s√°t m√©p tr√°i<br>
                ‚Üí Tooltip s·∫Ω hi·ªán b√™n PH·∫¢I
            </p>
            <div class="notice-tooltip">
                <div class="notice-tooltip-title">Reg ‚Äì 7d</div>
                <div class="notice-tooltip-note">Tooltip hi·ªÉn th·ªã b√™n ph·∫£i ƒë·ªÉ kh√¥ng b·ªã che</div>
            </div>
        </div>
        
        <!-- Card gi·ªØa -->
        <div class="card" id="center-card">
            <strong>Card 2 (Center)</strong>
            <div class="notice-line">Reg: 15d</div>
            <p style="font-size: 12px; color: #888; margin-top: 10px;">
                Card n√†y ·ªü gi·ªØa<br>
                ‚Üí Tooltip hi·ªán b√™n PH·∫¢I
            </p>
            <div class="notice-tooltip">
                <div class="notice-tooltip-title">Reg ‚Äì 15d</div>
                <div class="notice-tooltip-note">Default position (right)</div>
            </div>
        </div>
        
        <!-- Card b√™n ph·∫£i -->
        <div class="card" id="right-card">
            <strong>Card 3 (Right)</strong>
            <div class="notice-line">Reg: 2m</div>
            <p style="font-size: 12px; color: #888; margin-top: 10px;">
                Card n√†y s√°t m√©p ph·∫£i<br>
                ‚Üí Tooltip s·∫Ω hi·ªán b√™n TR√ÅI
            </p>
            <div class="notice-tooltip">
                <div class="notice-tooltip-title">Reg ‚Äì 2m</div>
                <div class="notice-tooltip-note">Tooltip hi·ªÉn th·ªã b√™n tr√°i ƒë·ªÉ kh√¥ng b·ªã che</div>
            </div>
        </div>
    </div>

    <script>
        function setupSmartTooltip(card) {
            const tip = card.querySelector('.notice-tooltip');
            if (!tip) return;
            
            card.addEventListener('mouseenter', () => {
                const rect = card.getBoundingClientRect();
                const viewportWidth = window.innerWidth;
                
                tip.classList.remove('tooltip-left', 'tooltip-right');
                
                if (rect.left < viewportWidth / 3) {
                    tip.classList.add('tooltip-right');
                    console.log('Card on LEFT ‚Üí Tooltip RIGHT');
                } else if (rect.right > (viewportWidth * 2) / 3) {
                    tip.classList.add('tooltip-left');
                    console.log('Card on RIGHT ‚Üí Tooltip LEFT');
                } else {
                    console.log('Card in CENTER ‚Üí Tooltip RIGHT (default)');
                }
                
                tip.classList.add('show');
            });
            
            card.addEventListener('mouseleave', () => {
                tip.classList.remove('show');
            });
        }
        
        // Setup all cards
        document.querySelectorAll('.card').forEach(setupSmartTooltip);
        
        console.log('üéØ Smart Tooltip Test Ready!');
        console.log('Viewport width:', window.innerWidth);
        console.log('Left zone: 0 - ' + (window.innerWidth / 3));
        console.log('Center zone: ' + (window.innerWidth / 3) + ' - ' + ((window.innerWidth * 2) / 3));
        console.log('Right zone: ' + ((window.innerWidth * 2) / 3) + ' - ' + window.innerWidth);
    </script>
</body>
</html>
